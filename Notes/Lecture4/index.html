<html>
  <script>
    // Self invoke function
    (() => {
      // How the sort comparaFunction works
      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort
      const arr = [1, 2, -1, -2, 5];
      console.log([...arr]);
      arr.sort((a, b) => {
        console.log(`a= ${a}`, `b= ${b}`);
        return a - b;
      });
      console.log(arr);
      // compareFunction Cases:
      // 1- returns less than 0, sort a to an index lower than b
      // 2- returns 0, leave a and b unchanged with respect to each other
      // 3- returns greater than 0, sort b to an index lower than a (i.e. b comes first).

      // ---------------------------------------------------------------------------------------------
      // Complex object

      // simple object example
      const user = {
        firstName: "Muhammad Arslan",
        lastName: "Sajid",
        email: "abc@gmail.com",
        phone: 0333,
        isVarified: true,
        address: "301 NY, United States",
      };
      // user.firstName = "First Name";

      // Complex object
      const user1 = {
        contactInfo: {
          phone: 0333,
          address: "301 NY, United States",
          email: "abc@gmail.com",
        },
        personalInfo: {
          firstName: "Muhmmad Arslan",
          lastName: "Sajid",
        },
        isVarified: true,
        permissions: ["read", "write"],
      };
      // user1.personalInfo.firstName = "First Name";

      console.log(user1);

      const user2 = {
        contactInfo: {
          phone: ["0333", "0300"],
          address: {
            permanentAddress: "301 NY, United States",
            temporaryAddress: "302 NY, United States",
            nearBy: ["Bakery", "XYZ Bridge"],
          },
          email: "abc@gmail.com",
        },
        personalInfo: {
          firstName: "Muhmmad Arslan",
          lastName: "Sajid",
        },
        isVarified: true,
        permissions: ["read", "write"],
      };

      const user3 = {
        contactInfo: {
          phone: ["0333"],
          address: {
            permanentAddress: "305 NY, United States",
            temporaryAddress: "305 NY, United States",
            nearBy: ["Hospital", "Masjid"],
          },
          email: "def@gmail.com",
        },
        personalInfo: {
          firstName: "Danial",
          lastName: "Waris",
        },
        isVarified: false,
        permissions: ["read"],
      };
      // console.log(user2.contactInfo.address.nearBy[1]);
      console.log(user3);
      // ---------------------------------------------------------------------------------------------
      // Array of objects
      // simple array
      const arr1 = [1, 3, 45]; // array of numbers
      const arr2 = ["a", "b", "c"]; // array of strings
      const arr3 = [1, "a", "b", 2]; // array of alphanumeric
      const users = [user2, user3]; // array of objects
      console.log(users);

      // ---------------------------------------------------------------------------------------------
      // Callback
      /*const runTaskA = (value) => {
        // TODO: do whatever you want
        console.log("task A completed, value: ", value);
      };
      const runTaskB = (value) => {
        // TODO: do whatever you want
        console.log("task A completed, value:", value);
      };
      const process = (taskA, taskB) => {
        runTaskA(taskA);
        runTaskB(taskB);
        console.log("process completed");
      };
      process("Task 1", "Task 2"); // execution order: 108, 101, 109, 105, 110*/

      const runTaskA = (value, callbackOnComplete) => {
        // TODO: do whatever you want in a long runnning process
        console.log("run long running task A, value: ", value);
        setTimeout(() => {
          if (typeof callbackOnComplete === "function") {
            callbackOnComplete();
          }
        }, 5000);
      };
      const runTaskB = (value, callbackOnComplete) => {
        // TODO: do whatever you want in a long runnning process
        console.log("run long running task B, value: ", value);
        if (typeof callbackOnComplete === "function") {
          callbackOnComplete();
        }
      };
      const callbackOnTaskAComplete = () =>
        console.log("task A has been completed");
      const process = (taskA, taskB) => {
        runTaskA(taskA, callbackOnTaskAComplete);
        runTaskB(taskB, () => console.log("task B has been completed"));
        console.log("want to execute rest functionality");
      };
      process("Task 1", "Task 2");
    })();
  </script>
  <body>
    <h2>Today Agenda</h2>
    <ul>
      <li>Array splice</li>
      <li>Question answers regarding array, objects</li>
    </ul>
    <h2>Next Class</h2>
    <ul>
      <li>Complex Object</li>
      <li>Array of objects</li>
      <li>Callback function</li>
    </ul>
  </body>
</html>
